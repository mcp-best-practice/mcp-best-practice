<!DOCTYPE html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MCP Best Practice"><meta name=author content="Mihai Criveti"><link href=https://pages.github.com/mcp-best-practice/mcp-best-practice/best-practice/ rel=canonical><link href=../overview/ rel=prev><link href=../develop/ rel=next><link rel=alternate type=application/rss+xml title="RSS feed" href=../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../feed_rss_updated.xml><link rel=icon href=../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>Best Practices - Model Context Protocol - Best Practice</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mcp-best-practices class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Model Context Protocol - Best Practice" class="md-header__button md-logo" aria-label="Model Context Protocol - Best Practice" data-md-component=logo> <img src=../logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Model Context Protocol - Best Practice </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Best Practices </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/mcp-best-practice/mcp-best-practice title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class=md-source__repository> mcp-best-practice/mcp-best-practice </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> 🏠 Home </a> </li> <li class=md-tabs__item> <a href=../overview/ class=md-tabs__link> 🧭 Overview </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> ⭐ Best Practices </a> </li> <li class=md-tabs__item> <a href=../develop/ class=md-tabs__link> 💻 Develop </a> </li> <li class=md-tabs__item> <a href=../test/ class=md-tabs__link> 🧪 Test </a> </li> <li class=md-tabs__item> <a href=../package/ class=md-tabs__link> 📦 Package </a> </li> <li class=md-tabs__item> <a href=../deploy/ class=md-tabs__link> 🚀 Deploy </a> </li> <li class=md-tabs__item> <a href=../operate/ class=md-tabs__link> ⚙️ Operate </a> </li> <li class=md-tabs__item> <a href=../secure/ class=md-tabs__link> 🛡️ Secure </a> </li> <li class=md-tabs__item> <a href=../use/ class=md-tabs__link> 🔌 Use </a> </li> <li class=md-tabs__item> <a href=../contribute/ class=md-tabs__link> 🙌 Contribute </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Model Context Protocol - Best Practice" class="md-nav__button md-logo" aria-label="Model Context Protocol - Best Practice" data-md-component=logo> <img src=../logo.png alt=logo> </a> Model Context Protocol - Best Practice </label> <div class=md-nav__source> <a href=https://github.com/mcp-best-practice/mcp-best-practice title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class=md-source__repository> mcp-best-practice/mcp-best-practice </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> 🏠 Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../overview/ class="md-nav__link "> <span class=md-ellipsis> 🧭 Overview </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 🧭 Overview </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> ⭐ Best Practices </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ⭐ Best Practices </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../develop/ class="md-nav__link "> <span class=md-ellipsis> 💻 Develop </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 💻 Develop </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../test/ class="md-nav__link "> <span class=md-ellipsis> 🧪 Test </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 🧪 Test </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../package/ class="md-nav__link "> <span class=md-ellipsis> 📦 Package </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 📦 Package </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../deploy/ class="md-nav__link "> <span class=md-ellipsis> 🚀 Deploy </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 🚀 Deploy </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../operate/ class="md-nav__link "> <span class=md-ellipsis> ⚙️ Operate </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> ⚙️ Operate </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__container"> <a href=../secure/ class="md-nav__link "> <span class=md-ellipsis> 🛡️ Secure </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> 🛡️ Secure </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../use/ class="md-nav__link "> <span class=md-ellipsis> 🔌 Use </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> 🔌 Use </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../contribute/ class=md-nav__link> <span class=md-ellipsis> 🙌 Contribute </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/mcp-best-practice/mcp-best-practice/edit/main/docs/docs/best-practice/index.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.06 9 .94.94L5.92 19H5v-.92zm3.6-6c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"></path></svg> </a> <h1 id=mcp-best-practices>MCP Best Practices<a class=headerlink href=#mcp-best-practices title="Permanent link">¶</a></h1> <p>This guide provides high‑level, vendor‑neutral guidance for building, deploying, and operating MCP servers in production. It emphasizes principles and patterns that scale in enterprise environments, focusing on security, reliability, and maintainability.</p> <h2 id=what-is-mcp-and-why-it-matters>What Is MCP (and why it matters)<a class=headerlink href=#what-is-mcp-and-why-it-matters title="Permanent link">¶</a></h2> <p>The Model Context Protocol is an open standard that connects AI applications (clients) to the systems where context and actions live (servers). Instead of bespoke, per‑app integrations, MCP defines a consistent way to discover capabilities and invoke them safely:</p> <ul> <li>Servers expose tools, resources, and prompts with typed schemas and descriptions.</li> <li>Clients connect over stdio (local) or streamable HTTP (remote) to discover and call capabilities.</li> <li>The protocol enables secure, auditable action execution with clear contracts, making it the preferred standard for building AI tools at enterprise scale.</li> </ul> <p>In this guide, "AI tools" are implemented as MCP servers. Treat MCP as the default interface for agent‑accessible capabilities.</p> <h3 id=mcp-core-concepts>MCP Core Concepts<a class=headerlink href=#mcp-core-concepts title="Permanent link">¶</a></h3> <ul> <li><strong>Tools</strong>: Executable actions with explicit input/output schemas, constraints, and side‑effect disclosures.</li> <li><strong>Resources</strong>: Readable data sources (files, records, documents) the client can fetch for model context.</li> <li><strong>Prompts</strong>: Pre‑defined interaction templates that standardize tasks and reduce prompt drift.</li> <li><strong>Discovery</strong>: Clients enumerate available tools/resources/prompts and obtain schemas at connect time.</li> <li><strong>Authorization</strong>: Servers enforce scopes/roles per tool, with optional approvals for high‑risk actions.</li> <li><strong>Transports</strong>: stdio for local processes; streamable HTTP for remote services and scale‑out.</li> </ul> <h2 id=design-principles>Design Principles<a class=headerlink href=#design-principles title="Permanent link">¶</a></h2> <ul> <li><strong>Single responsibility</strong>: One clear domain and authentication boundary per server.</li> <li><strong>Bounded toolsets</strong>: Focused tools with specific contracts; avoid "kitchen‑sink" servers.</li> <li><strong>Contracts first</strong>: Strict input/output schemas, explicit side effects, documented errors.</li> <li><strong>Additive change</strong>: Version schemas; prefer additive evolution; publish deprecations.</li> <li><strong>Stateless by default</strong>: Keep execution stateless for scale and resiliency.</li> <li><strong>Security by design</strong>: Integrate identity, authorization, and audit into the server—not around it.</li> <li><strong>Controlled autonomy</strong>: Offer precise, least-privilege tools with approval paths for high-impact actions.</li> </ul> <h2 id=architecture-and-deployment>Architecture and Deployment<a class=headerlink href=#architecture-and-deployment title="Permanent link">¶</a></h2> <h3 id=transport-and-topology>Transport and Topology<a class=headerlink href=#transport-and-topology title="Permanent link">¶</a></h3> <ul> <li><strong>stdio</strong>: Best for local, per-user integrations launched by a client. Strong default isolation; limited for centralized operations.</li> <li><strong>Streamable HTTP</strong>: Best for remote, shared services and scale-out. Requires standard web hardening and production SRE practices.</li> <li><strong>Direct vs. gateway</strong>: Direct connections are simple; gateway patterns centralize authN/Z, routing, catalogs, and policy enforcement for many servers.</li> </ul> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../assets/images/mcp-index-diagram-1.png data-desc-position=bottom><img alt="MCP Topology" src=../assets/images/mcp-index-diagram-1.png></a></p> <h3 id=mcp-gateway-pattern>MCP Gateway Pattern<a class=headerlink href=#mcp-gateway-pattern title="Permanent link">¶</a></h3> <p>Use an enterprise MCP Gateway when you need centralized security, control, and scale across many servers and tenants. The gateway becomes the single, policy‑enforced ingress for agent access to organizational capabilities.</p> <p><strong>Gateway responsibilities:</strong> - <strong>Centralized control</strong>: Authentication, authorization, routing, rate limiting, quotas, and service discovery/catalog - <strong>Security boundary</strong>: Terminate TLS, enforce mTLS to backends, broker OAuth tokens/scopes, translate permissions per tool - <strong>Policy and guardrails</strong>: Apply policy‑as‑code (e.g., OPA) for tool allow/deny, environment gating, approval requirements - <strong>Multi‑tenancy</strong>: Per‑tenant isolation for configs, keys, logs, metrics, limits, and catalogs - <strong>Governance and audit</strong>: Standardized logging, request correlation, audit trails across all servers - <strong>Reliability and scale</strong>: HA, autoscaling, circuit breaking, retries with idempotency, backpressure</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../assets/images/mcp-index-diagram-2.png data-desc-position=bottom><img alt="MCP Gateway Request Flow" src=../assets/images/mcp-index-diagram-2.png></a></p> <h3 id=local-vs-remote-deployment>Local vs Remote Deployment<a class=headerlink href=#local-vs-remote-deployment title="Permanent link">¶</a></h3> <ul> <li><strong>Local (stdio)</strong>: Per‑user, ephemeral processes; strong isolation, no inbound networking, direct access to local context. Best for developer tools and privacy‑sensitive workflows.</li> <li><strong>Remote (HTTP)</strong>: Shared, multi‑tenant services managed by platform teams; central policy, observability, and scaling. Best for enterprise integrations.</li> <li><strong>Hybrid</strong>: Local servers for personal context + remote servers for enterprise systems, mediated by a gateway for unified policy.</li> </ul> <h3 id=multi-tenancy-and-isolation>Multi-tenancy and Isolation<a class=headerlink href=#multi-tenancy-and-isolation title="Permanent link">¶</a></h3> <ul> <li><strong>Single-tenant by default</strong>: Simplifies auditing, secrets, and blast radius</li> <li><strong>Explicit tenancy boundaries</strong>: Separate data paths, keys, and logs by tenant</li> <li><strong>Workload isolation</strong>: Use containers with non-root users, read-only filesystems, minimal base images</li> </ul> <h2 id=security-foundations>Security Foundations<a class=headerlink href=#security-foundations title="Permanent link">¶</a></h2> <h3 id=identity-and-access>Identity and Access<a class=headerlink href=#identity-and-access title="Permanent link">¶</a></h3> <ul> <li><strong>OAuth 2.0 per MCP specification</strong>: Implement authorization flows and token refresh; scope permissions per tool and per action (read vs. write)</li> <li><strong>Least privilege</strong>: Default to read-only tools; enable write/edit tools behind explicit roles and policies</li> <li><strong>Fine-grained authorization</strong>: Enforce per-tool, per-parameter authorization checks; require approvals for high-risk operations</li> </ul> <h3 id=inputoutput-safety>Input/Output Safety<a class=headerlink href=#inputoutput-safety title="Permanent link">¶</a></h3> <ul> <li><strong>Validate inputs</strong>: Enforce strong schemas, types, ranges, and patterns; reject on first failure</li> <li><strong>Sanitize outputs</strong>: Prevent injection into downstream systems; clearly label side effects and references</li> <li><strong>Guardrails and approvals</strong>: Add policy checks before execution and require user approval where warranted</li> </ul> <h3 id=secrets-and-transport>Secrets and Transport<a class=headerlink href=#secrets-and-transport title="Permanent link">¶</a></h3> <ul> <li><strong>Managed secrets</strong>: Store credentials in enterprise secret managers; never inline secrets in configs or code</li> <li><strong>TLS everywhere</strong>: Encrypt HTTP transport; sign and verify containers and artifacts; use trusted registries only</li> <li><strong>Network policy</strong>: Restrict egress/ingress; apply service-to-service authentication and explicit allowlists</li> </ul> <h2 id=tooling-discipline>Tooling Discipline<a class=headerlink href=#tooling-discipline title="Permanent link">¶</a></h2> <h3 id=tool-design>Tool Design<a class=headerlink href=#tool-design title="Permanent link">¶</a></h3> <ul> <li><strong>Specific, actionable descriptions</strong>: State purpose, constraints, and side effects. Include usage guidance and follow-up steps</li> <li><strong>Stable interfaces</strong>: Version tool schemas; prefer additive changes; announce deprecations with timelines</li> <li><strong>Bounded capability</strong>: Avoid "kitchen-sink" tools; break into focused, testable actions</li> </ul> <h3 id=toolset-management>Toolset Management<a class=headerlink href=#toolset-management title="Permanent link">¶</a></h3> <ul> <li><strong>Read-only mode</strong>: Support deployment with read-only tools by configuration</li> <li><strong>Dynamic enablement</strong>: Enable/disable tools based on tenant, role, environment, or risk level</li> <li><strong>Production filtering</strong>: Exclude destructive operations in production; gate sensitive tools behind approvals</li> </ul> <h3 id=state-management>State Management<a class=headerlink href=#state-management title="Permanent link">¶</a></h3> <ul> <li><strong>Stateless by default</strong>: Keep execution stateless for scale and resiliency</li> <li><strong>Externalize state</strong>: Use managed stores (cache, DB) with clear TTLs and PII handling; avoid hidden server memory</li> </ul> <h3 id=long-running-and-side-effecting-operations>Long-Running and Side-Effecting Operations<a class=headerlink href=#long-running-and-side-effecting-operations title="Permanent link">¶</a></h3> <ul> <li><strong>Asynchronous patterns</strong>: For operations exceeding request timeouts, return a handle and provide status/poll tools</li> <li><strong>Idempotency keys</strong>: Require client-provided idempotency keys for create/update operations</li> <li><strong>Compensating actions</strong>: Document and provide explicit rollback tools where feasible</li> </ul> <h2 id=scalability-and-reliability>Scalability and Reliability<a class=headerlink href=#scalability-and-reliability title="Permanent link">¶</a></h2> <ul> <li><strong>Horizontal scale</strong>: Design for concurrent, short-lived requests; prefer idempotent operations and safe retries</li> <li><strong>Rate limiting and backpressure</strong>: Apply per-tenant, per-tool limits; surface "try later" semantics; protect upstream systems</li> <li><strong>Health, readiness, and circuit breakers</strong>: Publish health endpoints; trip on dependency failures; shed load gracefully</li> <li><strong>Caching and batching</strong>: Cache read-heavy operations with TTL; batch compatible requests to reduce API usage and cost</li> <li><strong>Compatibility and versioning</strong>: Version the server, tool schemas, and side-effect contracts; provide feature detection</li> </ul> <h3 id=performance-practices>Performance Practices<a class=headerlink href=#performance-practices title="Permanent link">¶</a></h3> <ul> <li><strong>Concurrency model</strong>: Use async I/O for network-bound tools; bound worker pools for CPU tasks; avoid global locks</li> <li><strong>Hot-path optimization</strong>: Pre-warm connections, cache tokens, and reuse HTTP clients with timeouts and retries</li> <li><strong>Budgeting</strong>: Track token, API, and compute budgets per tenant; shed non-critical work under pressure</li> </ul> <h2 id=observability-and-governance>Observability and Governance<a class=headerlink href=#observability-and-governance title="Permanent link">¶</a></h2> <ul> <li><strong>Structured audit trails</strong>: Capture who/what/when/why, including tool arguments (with redaction), decisions, and outcomes</li> <li><strong>Metrics that matter</strong>: Track tool success rate, latency, error classes, approval deferrals, and policy denials</li> <li><strong>Policy as code</strong>: Centralize guardrails (e.g., OPA) and apply consistently across environments</li> <li><strong>Curated catalogs</strong>: Maintain an approved server catalog with ownership, versions, capabilities, security review dates, and compliance tags</li> </ul> <h3 id=slos-and-runbooks>SLOs and Runbooks<a class=headerlink href=#slos-and-runbooks title="Permanent link">¶</a></h3> <ul> <li><strong>SLOs</strong>: Define success rate, p95 latency, and error budgets per critical tool</li> <li><strong>Runbooks</strong>: Document common failures, dependency outages, rate-limit responses, and rollback steps</li> <li><strong>Change windows</strong>: Coordinate releases with dependency owners; pin versions and provide rollbacks</li> </ul> <h2 id=operations-and-tenancy>Operations and Tenancy<a class=headerlink href=#operations-and-tenancy title="Permanent link">¶</a></h2> <ul> <li><strong>Environments</strong>: Separate dev/stage/prod credentials, routes, policies, quotas; avoid cross‑env leakage</li> <li><strong>Tenancy</strong>: Per‑tenant configs/logs/metrics/limits; tenant‑aware authZ; discovery reflects tenant/env differences</li> <li><strong>Quotas &amp; budgets</strong>: Per‑tenant/tool limits; alerting; auto‑degrade non‑critical work when over budget</li> <li><strong>Dependency protection</strong>: Bounded concurrency, backoff with jitter; strict validation of third‑party responses</li> </ul> <h2 id=build-vs-reuse>Build vs. Reuse<a class=headerlink href=#build-vs-reuse title="Permanent link">¶</a></h2> <ul> <li><strong>Prefer official/vendor servers</strong>: Start with vendor‑provided MCP servers for common SaaS and internal platforms</li> <li><strong>Vet and catalog</strong>: Only adopt servers that are maintained, reviewed, versioned, and policy‑compliant</li> <li><strong>Extend before rewrite</strong>: Contribute fixes upstream or wrap with gateway policies; build custom servers only when gaps are material</li> <li><strong>Exit criteria</strong>: If a third‑party server falls behind (security, compatibility, maintenance), plan a controlled migration</li> </ul> <h2 id=testing-and-quality>Testing and Quality<a class=headerlink href=#testing-and-quality title="Permanent link">¶</a></h2> <ul> <li><strong>Cross‑model evaluation</strong>: Validate tool discovery and execution across hosted and local models; monitor behavioral drift</li> <li><strong>Security tests</strong>: Negative testing, authorization bypass attempts, input fuzzing, and rate-limit validation</li> <li><strong>Load and chaos</strong>: Establish SLOs; test degradations, dependency outages, and retry/idempotency behavior</li> <li><strong>Pre-release gates</strong>: Block releases on failing quality, security, or performance thresholds</li> <li><strong>Contract tests</strong>: Maintain tool schema contract tests and golden responses for backward compatibility</li> </ul> <h2 id=packaging-and-distribution>Packaging and Distribution<a class=headerlink href=#packaging-and-distribution title="Permanent link">¶</a></h2> <h3 id=containerization-best-practices>Containerization Best Practices<a class=headerlink href=#containerization-best-practices title="Permanent link">¶</a></h3> <ul> <li><strong>Minimal base images</strong>: Distroless/UBI minimal; remove compilers and shells at runtime; run as non‑root</li> <li><strong>Health endpoints</strong>: Implement <code>/health</code> and <code>/ready</code>; wire liveness/readiness probes with sane thresholds</li> <li><strong>Provenance</strong>: Generate SBOM (e.g., CycloneDX), sign images (cosign), and maintain attestations</li> <li><strong>Dependency hygiene</strong>: Pin versions, use lock files, avoid transitive risk; automate vulnerability PRs</li> </ul> <h3 id=supply-chain-security>Supply Chain Security<a class=headerlink href=#supply-chain-security title="Permanent link">¶</a></h3> <ul> <li><strong>SBOMs</strong>: Produce per‑build SBOMs and store with artifacts; fail builds on critical vulnerabilities</li> <li><strong>Signing</strong>: Sign containers and manifests; verify at deploy; enforce signature policy in clusters</li> <li><strong>Reproducibility</strong>: Deterministic builds, pinned bases, and cached layers; record build metadata</li> </ul> <h2 id=language-and-sdk-choices>Language and SDK Choices<a class=headerlink href=#language-and-sdk-choices title="Permanent link">¶</a></h2> <ul> <li><strong>Python</strong>: Fastest iteration, rich data/ML ecosystem, great async I/O for network‑bound tools. Mind GIL for CPU tasks and cold‑start time.</li> <li><strong>Go</strong>: Single static binary, low memory footprint, strong concurrency model. Excellent for high‑throughput, low‑latency services.</li> <li><strong>TypeScript/Node</strong>: Mature ecosystem for web/API tooling, first‑class async I/O, easy JSON handling. Good for API wrappers.</li> <li><strong>SDK maturity</strong>: Official TypeScript and Python SDKs tend to lead; Go SDK is evolving. Prefer official SDKs; pin versions.</li> </ul> <p><strong>Principle</strong>: Choose the language that best matches your operational model and integration profile. Optimize for maintainability, observability, and SLOs—not theoretical speed.</p> <h2 id=quick-build-checklist>Quick Build Checklist<a class=headerlink href=#quick-build-checklist title="Permanent link">¶</a></h2> <p>✅ <strong>Purpose and scope</strong>: Single, clearly defined server role and bounded toolset ✅ <strong>SDK and spec</strong>: Official SDK where possible; document SDK/spec versions ✅ <strong>Security</strong>: OAuth scopes, least-privilege tools, approvals for high-risk actions, secrets in a manager ✅ <strong>Validation</strong>: Strong input schemas, output sanitization, error taxonomy and retries with idempotency ✅ <strong>Operations</strong>: Health/readiness, rate limits, backpressure, circuit breakers, and basic SLOs ✅ <strong>Observability</strong>: Structured audit logs, metrics (success/latency/errors), tracing/correlation IDs ✅ <strong>Compatibility</strong>: Versioned tool schemas, deprecation policy, feature detection, contract tests ✅ <strong>Packaging</strong>: Minimal signed container, non‑root runtime, reproducible builds ✅ <strong>Docs</strong>: README with capabilities/tags, environment variables, runbooks, and changelog</p> <h2 id=production-readiness-checklist>Production Readiness Checklist<a class=headerlink href=#production-readiness-checklist title="Permanent link">¶</a></h2> <p>✅ <strong>Identity and authorization</strong> implemented with least privilege and approvals for high-risk tools ✅ <strong>Input validation, output sanitization, and policy guardrails</strong> in place ✅ <strong>Audit logging, metrics, and alerts</strong> wired into enterprise observability ✅ <strong>Rate limits, backpressure, health checks, and circuit breakers</strong> configured ✅ <strong>Secrets in a managed store</strong>; containers minimal, signed, and non-root ✅ <strong>Versioned APIs and tools</strong> with clear deprecation paths and compatibility tests ✅ <strong>Documented SLOs, runbooks, incident response, and rollback procedures</strong></p> <h2 id=enterprise-adoption-patterns>Enterprise Adoption Patterns<a class=headerlink href=#enterprise-adoption-patterns title="Permanent link">¶</a></h2> <ul> <li><strong>Host responsibilities</strong>: Client apps must show full tool descriptions, request approvals for risky actions, and prevent tool shadowing</li> <li><strong>Environment segmentation</strong>: Distinct dev/stage/prod; different toolsets and policies per environment</li> <li><strong>Change management</strong>: Deprecation policies, version pinning, rollback strategies, and migration guidance</li> </ul> <hr> <p>MCP servers succeed in the enterprise when they are treated as durable products: narrowly scoped, strongly governed, observable, and easy to evolve. Favor clarity, safety, and operability over breadth—then scale capabilities through catalogs and consistent patterns rather than bespoke implementations.</p> <p><strong>See also</strong>: Overview, Develop, Test, Package, Deploy, Operate, Secure, Use.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 10, 2025 14:06:49 UTC">September 10, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"></path></svg> </span> <nav> <a href=mailto:crivetimihai@gmail.com>Mihai Criveti</a> </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Apache 2.0 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/mcp-best-practice/mcp-best-practice target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.feedback", "content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.share", "search.suggest", "toc.integrate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.92b07e13.min.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>